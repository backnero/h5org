(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2214949a"],{"35a8":function(t,e,s){t.exports=s.p+"img/pc_touxiang.0682381a.png"},"7aeb":function(t,e,s){},8773:function(t,e,s){"use strict";var a=s("7aeb"),i=s.n(a);i.a},"972a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account-wrapper"},[a("div",{staticClass:"sidebar-left"},[a("el-scrollbar",{staticClass:"sidebar"},[a("div",{staticClass:"item user-portrait"},[a("el-avatar",{staticClass:"right-image",attrs:{src:t.organ.organ_info.logo_url},on:{error:!0}},[a("img",{staticStyle:{"max-height":"100px"},attrs:{src:s("35a8")}})]),a("div",{staticClass:"font"},[t._v(t._s(t.organ.organ_info.title))])],1),a("div",{staticClass:"item"},[t._v("问题反馈")]),a("div",{staticClass:"item"},[t._v("智能客服")])])],1),a("div",{staticClass:"sidebar-right"},[a("el-scrollbar",{staticClass:"sidebar"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"portrait item"},[a("el-avatar",{staticClass:"left-image",attrs:{src:t.organ.organ_info.logo_url},on:{error:!0}},[a("img",{staticStyle:{"max-height":"65px"},attrs:{src:s("35a8")}})])],1),a("div",{staticClass:"textInfo item"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"sidebar-title"},[t._v("基本信息")])]),a("ul",{staticClass:"content-wrapper"},[a("li",{staticClass:"item-wrapper"},[a("div",{staticClass:"label"},[t._v("机构名称")]),a("div",{staticClass:"text"},[t._v(t._s(t.organ.organ_info.title))])])])])]),a("div",{staticClass:"user-securityInfo"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"sidebar-title"},[t._v("安全信息")])]),a("ul",{staticClass:"content-wrapper security"},[a("li",{staticClass:"item-wrapper"},[a("div",{staticClass:"item-label"},[a("div",{staticClass:"label"},[t._v("邮箱账号")]),a("div",{staticClass:"text"},[t._v(t._s(t.organ.organ_info.email))])]),a("el-button",{attrs:{type:"warning",size:"small"}},[t._v("修改")])],1),a("li",{staticClass:"item-wrapper"},[a("div",{staticClass:"item-label"},[a("div",{staticClass:"label"},[t._v("管理员")]),a("div",{staticClass:"text"},[t._v(" "+t._s(t.organ.users_info.length?t.organ.users_info[0].user_name:"XXXX")+" ")])]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.organ.users_info.length,expression:"organ.users_info.length"}],attrs:{type:"warning",size:"small"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("修改")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.organ.users_info.length,expression:"!organ.users_info.length"}],attrs:{type:"warning",size:"small"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("未绑定")])],1)])])])],1),a("el-dialog",{attrs:{title:"绑定管理员",visible:t.dialogVisible,width:"35em"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.empty}},[a("el-form",{ref:"form",staticClass:"bottom",attrs:{model:t.form,rules:t.ruleForm,"status-icon":"","label-width":"5em"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{prop:"phone",label:"关键字"}},[a("div",{staticClass:"item-wrapper bottom-o"},[a("div",{staticClass:"item-content"},[a("el-input",{attrs:{title:"三个字母的国家代码",placeholder:"请输入手机号"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.query(e)}},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return e.preventDefault(),t.query(e)}}},[t._v("搜索")])],1)])],1),a("div",{staticClass:"content"},t._l(t.user,(function(e){return a("el-card",{directives:[{name:"show",rawName:"v-show",value:t.user,expression:"user"}],key:e.id,staticClass:"box-card"},[a("div",{staticClass:"item-wrapper"},[a("label",{staticClass:"item-text blod"},[t._v(t._s(e.user_name))])]),a("div",{staticClass:"item-wrapper"},[a("label",{staticClass:"item-label"},[t._v("ID")]),a("label",{staticClass:"item-text"},[t._v(t._s(e.uid))])]),a("div",{staticClass:"item-wrapper"},[a("label",{staticClass:"item-label"},[t._v("手机号")]),a("label",{staticClass:"item-text"},[t._v(t._s(e.phone_num))])])])})),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},i=[],r=(s("96cf"),s("1da1")),n=s("78b1"),o=s("61f7"),l={props:{},data:function(){var t=function(t,e,s){Object(o["c"])(e)?s():s(new Error("手机号不符合规则"))};return{organ:{organ_info:{},users_info:[]},dialogVisible:!1,form:{phone:""},ruleForm:{phone:[{required:!0,trigger:"blur",validator:t}]},user:""}},watch:{},computed:{},methods:{getInfo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["e"])();case 2:s=e.sent,a=s.data,t.organ=a;case 5:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.user){e.next=8;break}return e.next=3,Object(n["a"])({organ_id:t.organ.organ_info.id,operator_phone:t.user[0].phone_num});case 3:t.getInfo(),t.$message({type:"success",message:"绑定成功!"}),t.dialogVisible=!1,e.next=9;break;case 8:t.$message.warning("亲,请搜索并确认用户!");case 9:case"end":return e.stop()}}),e)})))()},empty:function(){this.form={phone:""},this.user=[]},query:function(){var t=this;this.$refs["form"].validate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(s){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=6;break}return e.next=3,Object(n["b"])(t.form.phone);case 3:a=e.sent,i=a.data,i?t.user=i:(t.$message.warning("未查找到此用户!"),t.user=[]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleRemove:function(){var t=this;this.$confirm("此操作将解除此管理员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["g"])();case 2:t.getInfo(),t.$message({type:"success",message:"解除成功!"});case 4:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消解除"})}))}},created:function(){var t=this;this.$emit("customStyle",3),this.$nextTick((function(){t.getInfo()}))},mounted:function(){}},c=l,u=(s("8773"),s("2877")),m=Object(u["a"])(c,a,i,!1,null,"7cedbaae",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2214949a.f7e46c78.js.map